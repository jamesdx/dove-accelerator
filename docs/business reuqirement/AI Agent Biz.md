# 基于AI Agent的软件开发生命周期模拟系统

本文件描述了一个使用多个外部AI Agent模拟软件开发生命周期 (SDLC) 的系统设计。该系统管理工作流、处理工件评审并促进Agent间的通信。每个Agent的任务都由可配置的Prompt定义。

**一、系统架构**

1. **中央协调器 (Orchestrator):**  (Python/Node.js) 系统核心组件，负责：
    * 接收用户请求（客户需求），并进行初步的格式和有效性检查。  如果需求不完整或无效，则向用户返回错误信息。
    * 将验证后的客户需求传递给项目经理AI Agent。
    * 管理整体工作流，包括任务分配、依赖关系管理、进度跟踪和状态更新。
    * 生成并向AI Agent传递Prompt。Prompt需根据具体任务动态生成，并包含上下文信息、约束条件和期望输出格式。
    * 管理工件评审流程，包括将工件路由至指定评审人员，收集评审反馈，并根据反馈更新任务状态。
    * 促进AI Agent间的通信，可以使用消息队列或共享数据库。
    * 提供实时项目状态报告和仪表盘。
    * 存储和管理SDLC的阶段、活动及其依赖关系，支持用户自定义SDLC流程。

2. **AI Agent (外部AI服务):** 通过API访问的外部AI Agent (OpenAI, Anthropic等)。每个Agent承担特定角色:

    * **项目经理Agent:**  负责项目启动、任务分解、进度监控和SDLC流程管理。 
    * **业务分析师Agent:**  负责需求细化和用户故事创建 (Phase 1)。
    * **软件架构师Agent:** 负责系统和应用架构设计 (Phase 2)。
    * **数据架构师Agent:** 负责数据模型和数据库设计 (Phase 2)。
    * **安全架构师Agent:** 负责安全措施设计 (Phase 2)。
    * **集成架构师Agent:** 负责集成策略设计 (Phase 2)。
    * **开发者Agent (多个):** 负责代码实现 (Phase 3)。
    * **测试/QA Agent (多个):** 负责测试开发和执行 (Phase 4)。
    * **UX/UI设计师Agent:** 负责用户界面设计 (Phase 2)。
    * **发布经理Agent:** 负责软件发布 (Phase 5)。
    * **支持工程师Agent:** 负责客户支持 (Phase 6)。

3. **评审系统 (Review System):** (Python/Node.js)  负责管理评审流程:

    * 接收AI Agent提交的工件。
    * 根据配置将工件路由到指定的评审人员 (人工或其他AI Agent)。
    * 收集并处理评审反馈。
    * 根据评审结果更新任务状态。

4. **Prompt工程与配置系统:** (数据库/YAML)  存储：

    * 每个Agent和任务的参数化Prompt模板。
    * AI模型规范 (模型名称, API密钥, 参数)。
    * 角色分配、评审人员列表和工作流程参数。
    * SDLC阶段、活动及其依赖关系 (允许用户自定义)。

5. **进度跟踪与报告系统:** (Web应用 - React, Vue.js等) 提供实时项目状态仪表盘。

6. **通信系统:** (消息队列/共享数据 - RabbitMQ, Kafka, Redis)  促进Agent间的通信。


**二、工作流程**

1. **用户输入:** 用户提供客户需求 (文本、文档或结构化数据)。
2. **中央协调器：需求接收与验证:** 中央协调器收用户输入并进行验证。
3. **中央协调器：需求传递至项目经理Agent:** 协调器将验证后的需求传递给项目经理Agent。
4. **项目经理Agent：任务生成:** 项目经理Agent解析需求，基于`The Software Development Lifecycle- An Agile and DevOps Approach.md`文档和系统配置 ，根据 项目经理自己 Prompt 请求大模型生成任务，并把任务传递 中央协调器 。
5. **任务分配与执行:** 中央协调器 将任务分配给相应的AI Agent并触发执行。 AI Agent 通过自己的配置好的Prompt 去请求大模型完成任务，并把结果给到 中央处理器，中央协调器出发这任务 Reviewer AI  Agent 执行 Review 的任务 . Reviewer AI Agent 根据 自己的 Prompt 请求大模型进行评审，并把结果给到 中央协调器 ，然后 中央协调器 根据 Reviewer AI Agent 的评审结果，出发被review AI Agent 去修改。 这个流程只有 REview AI Agent 满意了才能进入下一个环节。
6. **工件提交与评审:** AI Agent提交工件，中央协调器评审流程。
7. **工作流管理:** 协调器根据任务状态和依赖关系管理工作流。
8. **进度跟踪与报告:** 中央协调器更新进度仪表盘。
9. **Agent间通信:** Agent通过消息队列或共享数据存储进行通信。
10. **最终输出:** 系统交付最终产品。


**三、技术栈**  (与前文相同)

**四、Prompt工程注意事项** (与前文相同)


本设计明确了协调器如何将用户需求传递给项目经理Agent，并启动SDLC模拟。  需要进一步细化Prompt模板、错误处理、安全措施和Agent间通信策略。